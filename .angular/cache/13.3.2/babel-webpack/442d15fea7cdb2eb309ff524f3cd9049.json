{"ast":null,"code":"import { MatTableDataSource } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../core\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../core/services/api.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"ngx-pagination\";\nconst _c0 = [\"scheduledOrdersPaginator\"];\n\nfunction CargasigaComponent_div_2_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\")(22, \"b\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"td\")(25, \"button\", 12);\n    i0.ɵɵtext(26, \"Ver Asignacion\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const siga_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r3.idCarga);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r3.matriculaUsuario);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r3.nombreUsuario);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r3.apellidopaternoUsuario);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r3.apellidomaternoUsuario);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r3.nombreCal);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r3.nombreChapter);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r3.tipoPreper);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r3.empresa);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r3.especialidad);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleMapInterpolate1(\"color: \", ctx_r2.inputColorStr[siga_r3.idCarga], \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", siga_r3.asignacion, \" % \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/dashboard/\", siga_r3.matriculaUsuario, \"\");\n  }\n}\n\nconst _c1 = function (a0, a1, a2) {\n  return {\n    itemsPerPage: a0,\n    currentPage: a1,\n    totalItems: a2\n  };\n};\n\nfunction CargasigaComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h4\", 2);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4)(5, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function CargasigaComponent_div_2_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.getusersiga();\n    });\n    i0.ɵɵtext(6, \"Mostrar Asignaci\\u00F3n \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵelementStart(8, \"div\", 6)(9, \"pagination-controls\", 7);\n    i0.ɵɵlistener(\"pageChange\", function CargasigaComponent_div_2_Template_pagination_controls_pageChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.onTableDataChange($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"table\", 8)(11, \"thead\")(12, \"tr\")(13, \"th\", 9);\n    i0.ɵɵtext(14, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\", 9);\n    i0.ɵɵtext(16, \"MATRICULA\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\", 9);\n    i0.ɵɵtext(18, \" NOMBREUSUARIO\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"th\", 9);\n    i0.ɵɵtext(20, \"APELLIDOPATERNO\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"th\", 9);\n    i0.ɵɵtext(22, \"APELLIDOMATERNO\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"th\", 9);\n    i0.ɵɵtext(24, \"NOMBRECAL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"th\", 9);\n    i0.ɵɵtext(26, \"NOMBRECHAPTER\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"th\", 9);\n    i0.ɵɵtext(28, \"TIPOPREPER\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"th\", 9);\n    i0.ɵɵtext(30, \"EMPRESA\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"th\", 9);\n    i0.ɵɵtext(32, \"ESPECIALIDAD\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"th\", 9);\n    i0.ɵɵtext(34, \"%ASIGNADA\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(35, \"tbody\");\n    i0.ɵɵtemplate(36, CargasigaComponent_div_2_tr_36_Template, 27, 15, \"tr\", 10);\n    i0.ɵɵpipe(37, \"paginate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"div\", 11)(39, \"pagination-controls\", 7);\n    i0.ɵɵlistener(\"pageChange\", function CargasigaComponent_div_2_Template_pagination_controls_pageChange_39_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.onTableDataChange($event);\n    });\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const user_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Hola \", user_r1.username, \",\");\n    i0.ɵɵadvance(34);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(37, 2, ctx_r0.AsignacionCarga, i0.ɵɵpureFunction3(5, _c1, ctx_r0.tableSize, ctx_r0.page, ctx_r0.count)));\n  }\n}\n\nexport class CargasigaComponent {\n  constructor(authService, route, formbulider, api, router) {\n    this.authService = authService;\n    this.route = route;\n    this.formbulider = formbulider;\n    this.api = api;\n    this.router = router;\n    this.accessToken = '';\n    this.refreshToken = '';\n    this.z = [];\n    this.i = 0;\n    this.idtem = 0;\n    this.textsiga = \"\";\n    this.totalsiga = 0;\n    this.inputColorStr = [];\n    this.sumatotal = [];\n    this.porcentajesiga = 0; // sort:any;\n\n    this.page = 1;\n    this.count = 0;\n    this.tableSize = 12;\n    this.tableSizes = [3, 6, 9, 12];\n    this.AsignacionCarga = [];\n    this.dataSourcesiga = new MatTableDataSource();\n  }\n\n  set matPaginator(paginator) {\n    this.dataSourcesiga.paginator = paginator; /// @ViewChild('scheduledOrdersPaginator') sort: MatSort;\n  }\n\n  ngOnInit() {\n    var _a, _b;\n\n    this.accessToken = (_a = localStorage.getItem('access_token')) !== null && _a !== void 0 ? _a : '';\n    this.refreshToken = (_b = localStorage.getItem('refresh_token')) !== null && _b !== void 0 ? _b : '';\n    this.listarsiga();\n    this.getusersiga(); // this.idtem=0;\n  }\n\n  listarsiga() {\n    this.api.getAllCargaSiga().subscribe(datacarga => {\n      this.AsignacionCarga = datacarga; //    this.getusersiga(this.AsignacionCarga);\n    });\n  }\n\n  onTableDataChange(event) {\n    this.page = event;\n    this.listarsiga();\n  }\n\n  onTableSizeChange(event) {\n    this.tableSize = event.target.value;\n    this.page = 1;\n    this.listarsiga();\n  }\n\n  getusersiga() {\n    this.datauser = [];\n    this.idsiga = [];\n    this.totid = [];\n    this.retornoidsiga = \"\";\n    this.i = 0;\n    this.api.getAllCargaSiga().subscribe(datacarga => {\n      this.datauser = datacarga;\n\n      for (let x = 0; x < this.datauser.length; x++) {\n        this.idsiga = this.datauser[x].idCarga;\n        this.porcentajesiga = this.datauser[x].asignacion;\n        this.retornoidsiga = this.datauser[x].matriculaUsuario;\n        this.api.getUsuario(this.retornoidsiga).subscribe(rsult => {\n          this.Asignacionusuariosiga = rsult;\n          this.iditem = this.datauser.length;\n          this.findsumarasignar(this.Asignacionusuariosiga);\n        });\n      }\n    });\n  }\n\n  findsumarasignar(data) {\n    this.listarsiga();\n    this.textsiga = \"\";\n    this.totalsiga = 0;\n    this.valuesiga = data;\n\n    for (let j = 0; j < this.valuesiga.length; j++) {\n      this.matriculaid = this.valuesiga[j].matriculaUsuario;\n      let rest = this.datauser.find(z => z.matriculaUsuario === this.matriculaid);\n\n      if (this.matriculaid === rest.matriculaUsuario) {\n        this.totalsiga += this.valuesiga[j].porcentaje;\n      }\n    }\n\n    let f = this.datauser.find(x => x.matriculaUsuario === this.matriculaid);\n\n    if (this.totalsiga == 100) {\n      this.inputColorStr[f.idCarga] = \"blue\";\n    } else {\n      this.inputColorStr[f.idCarga] = \"red\";\n    }\n\n    f.asignacion = this.trunc(this.totalsiga, 3);\n    this.api.updatesiga(f.idCarga, f).subscribe(res => {//   this.ngOnInit() \n    });\n    f.push();\n  }\n\n  trunc(xe, posiciones = 0) {\n    var s = xe.toString();\n    var l = s.length;\n    var decimalLength = s.indexOf('.') + 1;\n    var numStr = s.substr(0, decimalLength + posiciones);\n    return Number(numStr);\n  }\n\n  deletesiga(id) {\n    if (confirm(\"¿Estás seguro que desea eliminar\")) {\n      this.api.deleteSiga(id).subscribe(res => {\n        this.AsignacionCarga = this.AsignacionCarga.filter(item => item.idCarga !== id);\n      });\n    }\n  }\n\n}\n\nCargasigaComponent.ɵfac = function CargasigaComponent_Factory(t) {\n  return new (t || CargasigaComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.ApiService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nCargasigaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CargasigaComponent,\n  selectors: [[\"app-cargasiga\"]],\n  viewQuery: function CargasigaComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.matPaginator = _t.first);\n    }\n  },\n  decls: 4,\n  vars: 4,\n  consts: [[\"class\", \"card mt-4 shadow\", 4, \"ngIf\", \"ngIfElse\"], [1, \"card\", \"mt-4\", \"shadow\"], [1, \"card-header\"], [1, \"row\"], [1, \"col-12\", \"text-center\", \"my-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"d-flex\", \"justify-content-center\", \"table\", \"table-hover\"], [\"previousLabel\", \"Atras\", \"nextLabel\", \"Siguiente\", 3, \"pageChange\"], [\"table\", \"\", \"table-hover\", \"\", 1, \"table\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"routerLink\"]],\n  template: function CargasigaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Lista de Empleados\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, CargasigaComponent_div_2_Template, 40, 9, \"div\", 0);\n      i0.ɵɵpipe(3, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 2, ctx.authService.user$))(\"ngIfElse\", ctx.login);\n    }\n  },\n  directives: [i5.NgIf, i6.PaginationControlsComponent, i5.NgForOf, i2.RouterLink],\n  pipes: [i5.AsyncPipe, i6.PaginatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXJnYXNpZ2EuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["C:/Documentos/jose/bcp/Cursos NET/bcp/angularasignacion/src/app/cargasiga/cargasiga.component.ts"],"names":["MatTableDataSource","i0","i1","i2","i3","i4","i5","i6","_c0","CargasigaComponent_div_2_tr_36_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","siga_r3","$implicit","ctx_r2","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate","idCarga","matriculaUsuario","nombreUsuario","apellidopaternoUsuario","apellidomaternoUsuario","nombreCal","nombreChapter","tipoPreper","empresa","especialidad","ɵɵstyleMapInterpolate1","inputColorStr","ɵɵtextInterpolate1","asignacion","ɵɵpropertyInterpolate1","_c1","a0","a1","a2","itemsPerPage","currentPage","totalItems","CargasigaComponent_div_2_Template","_r6","ɵɵgetCurrentView","ɵɵlistener","CargasigaComponent_div_2_Template_button_click_5_listener","ɵɵrestoreView","ctx_r5","getusersiga","ɵɵelement","CargasigaComponent_div_2_Template_pagination_controls_pageChange_9_listener","$event","ctx_r7","onTableDataChange","ɵɵtemplate","ɵɵpipe","CargasigaComponent_div_2_Template_pagination_controls_pageChange_39_listener","ctx_r8","user_r1","ngIf","ctx_r0","username","ɵɵproperty","ɵɵpipeBind2","AsignacionCarga","ɵɵpureFunction3","tableSize","page","count","CargasigaComponent","constructor","authService","route","formbulider","api","router","accessToken","refreshToken","z","i","idtem","textsiga","totalsiga","sumatotal","porcentajesiga","tableSizes","dataSourcesiga","matPaginator","paginator","ngOnInit","_a","_b","localStorage","getItem","listarsiga","getAllCargaSiga","subscribe","datacarga","event","onTableSizeChange","target","value","datauser","idsiga","totid","retornoidsiga","x","length","getUsuario","rsult","Asignacionusuariosiga","iditem","findsumarasignar","data","valuesiga","j","matriculaid","rest","find","porcentaje","f","trunc","updatesiga","res","push","xe","posiciones","s","toString","l","decimalLength","indexOf","numStr","substr","Number","deletesiga","id","confirm","deleteSiga","filter","item","ɵfac","CargasigaComponent_Factory","t","ɵɵdirectiveInject","AuthService","ActivatedRoute","FormBuilder","ApiService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","viewQuery","CargasigaComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","decls","vars","consts","template","CargasigaComponent_Template","ɵɵpipeBind1","user$","login","directives","NgIf","PaginationControlsComponent","NgForOf","RouterLink","pipes","AsyncPipe","PaginatePipe","styles"],"mappings":"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","sourcesContent":["import { MatTableDataSource } from '@angular/material/table';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../core\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"@angular/forms\";\r\nimport * as i4 from \"../core/services/api.service\";\r\nimport * as i5 from \"@angular/common\";\r\nimport * as i6 from \"ngx-pagination\";\r\nconst _c0 = [\"scheduledOrdersPaginator\"];\r\nfunction CargasigaComponent_div_2_tr_36_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"td\");\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"td\");\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(7, \"td\");\r\n    i0.ɵɵtext(8);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(9, \"td\");\r\n    i0.ɵɵtext(10);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(11, \"td\");\r\n    i0.ɵɵtext(12);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(13, \"td\");\r\n    i0.ɵɵtext(14);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(15, \"td\");\r\n    i0.ɵɵtext(16);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(17, \"td\");\r\n    i0.ɵɵtext(18);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(19, \"td\");\r\n    i0.ɵɵtext(20);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(21, \"td\")(22, \"b\");\r\n    i0.ɵɵtext(23);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(24, \"td\")(25, \"button\", 12);\r\n    i0.ɵɵtext(26, \"Ver Asignacion\");\r\n    i0.ɵɵelementEnd()()();\r\n} if (rf & 2) {\r\n    const siga_r3 = ctx.$implicit;\r\n    const ctx_r2 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r3.idCarga);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r3.matriculaUsuario);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r3.nombreUsuario);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r3.apellidopaternoUsuario);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r3.apellidomaternoUsuario);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r3.nombreCal);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r3.nombreChapter);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r3.tipoPreper);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r3.empresa);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r3.especialidad);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵstyleMapInterpolate1(\"color: \", ctx_r2.inputColorStr[siga_r3.idCarga], \" \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \", siga_r3.asignacion, \" % \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/dashboard/\", siga_r3.matriculaUsuario, \"\");\r\n} }\r\nconst _c1 = function (a0, a1, a2) { return { itemsPerPage: a0, currentPage: a1, totalItems: a2 }; };\r\nfunction CargasigaComponent_div_2_Template(rf, ctx) { if (rf & 1) {\r\n    const _r6 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h4\", 2);\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4)(5, \"button\", 5);\r\n    i0.ɵɵlistener(\"click\", function CargasigaComponent_div_2_Template_button_click_5_listener() { i0.ɵɵrestoreView(_r6); const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.getusersiga(); });\r\n    i0.ɵɵtext(6, \"Mostrar Asignaci\\u00F3n \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(7, \"br\");\r\n    i0.ɵɵelementStart(8, \"div\", 6)(9, \"pagination-controls\", 7);\r\n    i0.ɵɵlistener(\"pageChange\", function CargasigaComponent_div_2_Template_pagination_controls_pageChange_9_listener($event) { i0.ɵɵrestoreView(_r6); const ctx_r7 = i0.ɵɵnextContext(); return ctx_r7.onTableDataChange($event); });\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(10, \"table\", 8)(11, \"thead\")(12, \"tr\")(13, \"th\", 9);\r\n    i0.ɵɵtext(14, \"ID\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(15, \"th\", 9);\r\n    i0.ɵɵtext(16, \"MATRICULA\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(17, \"th\", 9);\r\n    i0.ɵɵtext(18, \" NOMBREUSUARIO\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(19, \"th\", 9);\r\n    i0.ɵɵtext(20, \"APELLIDOPATERNO\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(21, \"th\", 9);\r\n    i0.ɵɵtext(22, \"APELLIDOMATERNO\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(23, \"th\", 9);\r\n    i0.ɵɵtext(24, \"NOMBRECAL\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(25, \"th\", 9);\r\n    i0.ɵɵtext(26, \"NOMBRECHAPTER\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(27, \"th\", 9);\r\n    i0.ɵɵtext(28, \"TIPOPREPER\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(29, \"th\", 9);\r\n    i0.ɵɵtext(30, \"EMPRESA\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(31, \"th\", 9);\r\n    i0.ɵɵtext(32, \"ESPECIALIDAD\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(33, \"th\", 9);\r\n    i0.ɵɵtext(34, \"%ASIGNADA\");\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelementStart(35, \"tbody\");\r\n    i0.ɵɵtemplate(36, CargasigaComponent_div_2_tr_36_Template, 27, 15, \"tr\", 10);\r\n    i0.ɵɵpipe(37, \"paginate\");\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(38, \"div\", 11)(39, \"pagination-controls\", 7);\r\n    i0.ɵɵlistener(\"pageChange\", function CargasigaComponent_div_2_Template_pagination_controls_pageChange_39_listener($event) { i0.ɵɵrestoreView(_r6); const ctx_r8 = i0.ɵɵnextContext(); return ctx_r8.onTableDataChange($event); });\r\n    i0.ɵɵelementEnd()()()()();\r\n} if (rf & 2) {\r\n    const user_r1 = ctx.ngIf;\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\"Hola \", user_r1.username, \",\");\r\n    i0.ɵɵadvance(34);\r\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(37, 2, ctx_r0.AsignacionCarga, i0.ɵɵpureFunction3(5, _c1, ctx_r0.tableSize, ctx_r0.page, ctx_r0.count)));\r\n} }\r\nexport class CargasigaComponent {\r\n    constructor(authService, route, formbulider, api, router) {\r\n        this.authService = authService;\r\n        this.route = route;\r\n        this.formbulider = formbulider;\r\n        this.api = api;\r\n        this.router = router;\r\n        this.accessToken = '';\r\n        this.refreshToken = '';\r\n        this.z = [];\r\n        this.i = 0;\r\n        this.idtem = 0;\r\n        this.textsiga = \"\";\r\n        this.totalsiga = 0;\r\n        this.inputColorStr = [];\r\n        this.sumatotal = [];\r\n        this.porcentajesiga = 0;\r\n        // sort:any;\r\n        this.page = 1;\r\n        this.count = 0;\r\n        this.tableSize = 12;\r\n        this.tableSizes = [3, 6, 9, 12];\r\n        this.AsignacionCarga = [];\r\n        this.dataSourcesiga = new MatTableDataSource();\r\n    }\r\n    set matPaginator(paginator) {\r\n        this.dataSourcesiga.paginator = paginator;\r\n        /// @ViewChild('scheduledOrdersPaginator') sort: MatSort;\r\n    }\r\n    ngOnInit() {\r\n        var _a, _b;\r\n        this.accessToken = (_a = localStorage.getItem('access_token')) !== null && _a !== void 0 ? _a : '';\r\n        this.refreshToken = (_b = localStorage.getItem('refresh_token')) !== null && _b !== void 0 ? _b : '';\r\n        this.listarsiga();\r\n        this.getusersiga();\r\n        // this.idtem=0;\r\n    }\r\n    listarsiga() {\r\n        this.api.getAllCargaSiga().subscribe(datacarga => {\r\n            this.AsignacionCarga = datacarga;\r\n            //    this.getusersiga(this.AsignacionCarga);\r\n        });\r\n    }\r\n    onTableDataChange(event) {\r\n        this.page = event;\r\n        this.listarsiga();\r\n    }\r\n    onTableSizeChange(event) {\r\n        this.tableSize = event.target.value;\r\n        this.page = 1;\r\n        this.listarsiga();\r\n    }\r\n    getusersiga() {\r\n        this.datauser = [];\r\n        this.idsiga = [];\r\n        this.totid = [];\r\n        this.retornoidsiga = \"\";\r\n        this.i = 0;\r\n        this.api.getAllCargaSiga().subscribe(datacarga => {\r\n            this.datauser = datacarga;\r\n            for (let x = 0; x < this.datauser.length; x++) {\r\n                this.idsiga = this.datauser[x].idCarga;\r\n                this.porcentajesiga = this.datauser[x].asignacion;\r\n                this.retornoidsiga = this.datauser[x].matriculaUsuario;\r\n                this.api.getUsuario(this.retornoidsiga).subscribe((rsult) => {\r\n                    this.Asignacionusuariosiga = rsult;\r\n                    this.iditem = this.datauser.length;\r\n                    this.findsumarasignar(this.Asignacionusuariosiga);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    findsumarasignar(data) {\r\n        this.listarsiga();\r\n        this.textsiga = \"\";\r\n        this.totalsiga = 0;\r\n        this.valuesiga = data;\r\n        for (let j = 0; j < this.valuesiga.length; j++) {\r\n            this.matriculaid = this.valuesiga[j].matriculaUsuario;\r\n            let rest = this.datauser.find((z) => z.matriculaUsuario === this.matriculaid);\r\n            if (this.matriculaid === rest.matriculaUsuario) {\r\n                this.totalsiga += this.valuesiga[j].porcentaje;\r\n            }\r\n        }\r\n        let f = this.datauser.find((x) => x.matriculaUsuario === this.matriculaid);\r\n        if ((this.totalsiga) == 100) {\r\n            this.inputColorStr[f.idCarga] = \"blue\";\r\n        }\r\n        else {\r\n            this.inputColorStr[f.idCarga] = \"red\";\r\n        }\r\n        f.asignacion = this.trunc(this.totalsiga, 3);\r\n        this.api.updatesiga(f.idCarga, f).subscribe(res => {\r\n            //   this.ngOnInit() \r\n        });\r\n        f.push();\r\n    }\r\n    trunc(xe, posiciones = 0) {\r\n        var s = xe.toString();\r\n        var l = s.length;\r\n        var decimalLength = s.indexOf('.') + 1;\r\n        var numStr = s.substr(0, decimalLength + posiciones);\r\n        return Number(numStr);\r\n    }\r\n    deletesiga(id) {\r\n        if (confirm(\"¿Estás seguro que desea eliminar\")) {\r\n            this.api.deleteSiga(id).subscribe(res => {\r\n                this.AsignacionCarga = this.AsignacionCarga.filter(item => item.idCarga !== id);\r\n            });\r\n        }\r\n    }\r\n}\r\nCargasigaComponent.ɵfac = function CargasigaComponent_Factory(t) { return new (t || CargasigaComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.ApiService), i0.ɵɵdirectiveInject(i2.Router)); };\r\nCargasigaComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: CargasigaComponent, selectors: [[\"app-cargasiga\"]], viewQuery: function CargasigaComponent_Query(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵviewQuery(_c0, 5);\r\n    } if (rf & 2) {\r\n        let _t;\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.matPaginator = _t.first);\r\n    } }, decls: 4, vars: 4, consts: [[\"class\", \"card mt-4 shadow\", 4, \"ngIf\", \"ngIfElse\"], [1, \"card\", \"mt-4\", \"shadow\"], [1, \"card-header\"], [1, \"row\"], [1, \"col-12\", \"text-center\", \"my-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"d-flex\", \"justify-content-center\", \"table\", \"table-hover\"], [\"previousLabel\", \"Atras\", \"nextLabel\", \"Siguiente\", 3, \"pageChange\"], [\"table\", \"\", \"table-hover\", \"\", 1, \"table\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"routerLink\"]], template: function CargasigaComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"h1\");\r\n        i0.ɵɵtext(1, \"Lista de Empleados\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(2, CargasigaComponent_div_2_Template, 40, 9, \"div\", 0);\r\n        i0.ɵɵpipe(3, \"async\");\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 2, ctx.authService.user$))(\"ngIfElse\", ctx.login);\r\n    } }, directives: [i5.NgIf, i6.PaginationControlsComponent, i5.NgForOf, i2.RouterLink], pipes: [i5.AsyncPipe, i6.PaginatePipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXJnYXNpZ2EuY29tcG9uZW50LmNzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}