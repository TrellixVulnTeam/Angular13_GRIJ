{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Documentos\\\\jose\\\\bcp\\\\Cursos NET\\\\bcp\\\\angularasignacion\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { MatTableDataSource } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../core/services/api.service\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = [\"scheduledOrdersPaginator\"];\n\nfunction CargasigaComponent_tr_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\")(24, \"button\", 6);\n    i0.ɵɵtext(25, \"Ver Asignacion\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const siga_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r1.idCarga);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r1.matriculaUsuario);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r1.nombreUsuario);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r1.apellidopaternoUsuario);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r1.apellidomaternoUsuario);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r1.nombreCal);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r1.nombreChapter);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r1.tipoPreper);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r1.empresa);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(siga_r1.especialidad);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.sumatotal[siga_r1.idCarga - 1], \" % \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/dashboard/\", siga_r1.matriculaUsuario, \"\");\n  }\n}\n\nexport class CargasigaComponent {\n  constructor(route, formbulider, api, router) {\n    this.route = route;\n    this.formbulider = formbulider;\n    this.api = api;\n    this.router = router;\n    this.i = 0;\n    this.idtem = 0;\n    this.textsiga = \"\";\n    this.totalsiga = 0;\n    this.sumatotal = []; // sort:any;\n\n    this.page = 1;\n    this.count = 0;\n    this.tableSize = 12;\n    this.tableSizes = [3, 6, 9, 12];\n    this.AsignacionCarga = [];\n    this.dataSourcesiga = new MatTableDataSource();\n  }\n\n  set matPaginator(paginator) {\n    this.dataSourcesiga.paginator = paginator; /// @ViewChild('scheduledOrdersPaginator') sort: MatSort;\n  }\n\n  ngOnInit() {\n    this.listarsiga(); // this.idtem=0;\n  }\n\n  listarsiga() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.api.getAllCargaSiga().subscribe(datacarga => {\n        _this.AsignacionCarga = datacarga;\n        _this.dataSourcesiga = new MatTableDataSource(datacarga); ///  this.dataSourcesiga .sort = this.sort\n        /// this.sort.sort(<MatSortable>{\n        //   id: 'name',\n        //   start: 'asc'\n        //   });\n\n        _this.getusersiga(_this.AsignacionCarga);\n      });\n    })();\n  }\n\n  onTableDataChange(event) {\n    this.page = event;\n    this.listarsiga();\n  }\n\n  onTableSizeChange(event) {\n    this.tableSize = event.target.value;\n    this.page = 1;\n    this.listarsiga();\n  }\n\n  getusersiga(datauser) {\n    this.iddata = datauser;\n    this.i = 0;\n\n    for (let j = 0; j < this.iddata.length; j++) {\n      this.retornoidsiga = this.iddata[j].matriculaUsuario;\n      this.api.getUsuario(this.retornoidsiga).subscribe(rsult => {\n        this.Asignacionusuario = rsult;\n        this.iditem = this.AsignacionCarga.length;\n        this.findsum(this.Asignacionusuario, this.iditem); // console.log(rsult);  console.log(this.iditem);  \n      });\n    }\n  }\n\n  findsum(data, item) {\n    //  window.location.reload();\n    this.textsiga = \"\";\n    this.totalsiga = 0;\n    this.valuesiga = data; // this.i=0   \n    //   console.log(this.valuesiga);  \n\n    console.log(this.totalsiga);\n    debugger; // do {\n\n    if (this.i < item) //for(let ix=0;ix<item;ix++)\n      {\n        for (let j = 0; j < this.valuesiga.length; j++) {\n          this.totalsiga += this.valuesiga[j].porcentaje;\n        }\n\n        this.sumatotal[this.i] = this.totalsiga;\n        this.i = this.i + 1;\n        debugger; //  this.totalsiga=0;\n      } //while (this.i > item);\n    // if ((this.totalsiga) == 100 ){\n    //   this.textsiga = \"Asignación Completada\";\n    //   this.inputColorStr = \"blue\";\n    //   console.log(this.textsiga);  \n    //  }else { this.textsiga =\"Por favor revisar el % Asignación\";\n    // this.inputColorStr = \"red\";\n    // console.log(this.textsiga);  \n    // }\n    // return this.textsiga;\n    // return this.sumatotal;\n\n  }\n\n  deletesiga(id) {\n    if (confirm(\"¿Estás seguro que desea eliminar\")) {\n      this.api.deleteSiga(id).subscribe(res => {\n        this.AsignacionCarga = this.AsignacionCarga.filter(item => item.idCarga !== id);\n      });\n    }\n  }\n\n}\n\nCargasigaComponent.ɵfac = function CargasigaComponent_Factory(t) {\n  return new (t || CargasigaComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ApiService), i0.ɵɵdirectiveInject(i1.Router));\n};\n\nCargasigaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CargasigaComponent,\n  selectors: [[\"app-cargasiga\"]],\n  viewQuery: function CargasigaComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.matPaginator = _t.first);\n    }\n  },\n  decls: 32,\n  vars: 1,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col-12\"], [\"table\", \"\", \"table-hover\", \"\", 1, \"table\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"routerLink\"]],\n  template: function CargasigaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\");\n      i0.ɵɵtext(4, \"Lista de Empleados\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"table\", 3)(6, \"thead\")(7, \"tr\")(8, \"th\", 4);\n      i0.ɵɵtext(9, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\", 4);\n      i0.ɵɵtext(11, \"MATRICULA\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\", 4);\n      i0.ɵɵtext(13, \" NOMBREUSUARIO\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\", 4);\n      i0.ɵɵtext(15, \"APELLIDOPATERNO\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\", 4);\n      i0.ɵɵtext(17, \"APELLIDOMATERNO\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\", 4);\n      i0.ɵɵtext(19, \"NOMBRECAL\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\", 4);\n      i0.ɵɵtext(21, \"NOMBRECHAPTER\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\", 4);\n      i0.ɵɵtext(23, \"TIPOPREPER\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"th\", 4);\n      i0.ɵɵtext(25, \"EMPRESA\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"th\", 4);\n      i0.ɵɵtext(27, \"ESPECIALIDAD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"th\", 4);\n      i0.ɵɵtext(29, \"%ASIGNADA\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(30, \"tbody\");\n      i0.ɵɵtemplate(31, CargasigaComponent_tr_31_Template, 26, 12, \"tr\", 5);\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(31);\n      i0.ɵɵproperty(\"ngForOf\", ctx.AsignacionCarga);\n    }\n  },\n  directives: [i4.NgForOf, i1.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXJnYXNpZ2EuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["C:/Documentos/jose/bcp/Cursos NET/bcp/angularasignacion/src/app/cargasiga/cargasiga.component.ts"],"names":["MatTableDataSource","i0","i1","i2","i3","i4","_c0","CargasigaComponent_tr_31_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","siga_r1","$implicit","ctx_r0","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate","idCarga","matriculaUsuario","nombreUsuario","apellidopaternoUsuario","apellidomaternoUsuario","nombreCal","nombreChapter","tipoPreper","empresa","especialidad","ɵɵtextInterpolate1","sumatotal","ɵɵpropertyInterpolate1","CargasigaComponent","constructor","route","formbulider","api","router","i","idtem","textsiga","totalsiga","page","count","tableSize","tableSizes","AsignacionCarga","dataSourcesiga","matPaginator","paginator","ngOnInit","listarsiga","getAllCargaSiga","subscribe","datacarga","getusersiga","onTableDataChange","event","onTableSizeChange","target","value","datauser","iddata","j","length","retornoidsiga","getUsuario","rsult","Asignacionusuario","iditem","findsum","data","item","valuesiga","console","log","porcentaje","deletesiga","id","confirm","deleteSiga","res","filter","ɵfac","CargasigaComponent_Factory","t","ɵɵdirectiveInject","ActivatedRoute","FormBuilder","ApiService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","viewQuery","CargasigaComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","decls","vars","consts","template","CargasigaComponent_Template","ɵɵtemplate","ɵɵproperty","directives","NgForOf","RouterLink","styles"],"mappings":"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","sourcesContent":["import { MatTableDataSource } from '@angular/material/table';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"@angular/forms\";\r\nimport * as i3 from \"../core/services/api.service\";\r\nimport * as i4 from \"@angular/common\";\r\nconst _c0 = [\"scheduledOrdersPaginator\"];\r\nfunction CargasigaComponent_tr_31_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"td\");\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"td\");\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(7, \"td\");\r\n    i0.ɵɵtext(8);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(9, \"td\");\r\n    i0.ɵɵtext(10);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(11, \"td\");\r\n    i0.ɵɵtext(12);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(13, \"td\");\r\n    i0.ɵɵtext(14);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(15, \"td\");\r\n    i0.ɵɵtext(16);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(17, \"td\");\r\n    i0.ɵɵtext(18);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(19, \"td\");\r\n    i0.ɵɵtext(20);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(21, \"td\");\r\n    i0.ɵɵtext(22);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(23, \"td\")(24, \"button\", 6);\r\n    i0.ɵɵtext(25, \"Ver Asignacion\");\r\n    i0.ɵɵelementEnd()()();\r\n} if (rf & 2) {\r\n    const siga_r1 = ctx.$implicit;\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r1.idCarga);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r1.matriculaUsuario);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r1.nombreUsuario);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r1.apellidopaternoUsuario);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r1.apellidomaternoUsuario);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r1.nombreCal);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r1.nombreChapter);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r1.tipoPreper);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r1.empresa);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(siga_r1.especialidad);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.sumatotal[siga_r1.idCarga - 1], \" % \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/dashboard/\", siga_r1.matriculaUsuario, \"\");\r\n} }\r\nexport class CargasigaComponent {\r\n    constructor(route, formbulider, api, router) {\r\n        this.route = route;\r\n        this.formbulider = formbulider;\r\n        this.api = api;\r\n        this.router = router;\r\n        this.i = 0;\r\n        this.idtem = 0;\r\n        this.textsiga = \"\";\r\n        this.totalsiga = 0;\r\n        this.sumatotal = [];\r\n        // sort:any;\r\n        this.page = 1;\r\n        this.count = 0;\r\n        this.tableSize = 12;\r\n        this.tableSizes = [3, 6, 9, 12];\r\n        this.AsignacionCarga = [];\r\n        this.dataSourcesiga = new MatTableDataSource();\r\n    }\r\n    set matPaginator(paginator) {\r\n        this.dataSourcesiga.paginator = paginator;\r\n        /// @ViewChild('scheduledOrdersPaginator') sort: MatSort;\r\n    }\r\n    ngOnInit() {\r\n        this.listarsiga();\r\n        // this.idtem=0;\r\n    }\r\n    async listarsiga() {\r\n        this.api.getAllCargaSiga().subscribe(datacarga => {\r\n            this.AsignacionCarga = datacarga;\r\n            this.dataSourcesiga = new MatTableDataSource(datacarga);\r\n            ///  this.dataSourcesiga .sort = this.sort\r\n            /// this.sort.sort(<MatSortable>{\r\n            //   id: 'name',\r\n            //   start: 'asc'\r\n            //   });\r\n            this.getusersiga(this.AsignacionCarga);\r\n        });\r\n    }\r\n    onTableDataChange(event) {\r\n        this.page = event;\r\n        this.listarsiga();\r\n    }\r\n    onTableSizeChange(event) {\r\n        this.tableSize = event.target.value;\r\n        this.page = 1;\r\n        this.listarsiga();\r\n    }\r\n    getusersiga(datauser) {\r\n        this.iddata = datauser;\r\n        this.i = 0;\r\n        for (let j = 0; j < this.iddata.length; j++) {\r\n            this.retornoidsiga = this.iddata[j].matriculaUsuario;\r\n            this.api.getUsuario(this.retornoidsiga).subscribe((rsult) => {\r\n                this.Asignacionusuario = rsult;\r\n                this.iditem = this.AsignacionCarga.length;\r\n                this.findsum(this.Asignacionusuario, this.iditem);\r\n                // console.log(rsult);  console.log(this.iditem);  \r\n            });\r\n        }\r\n    }\r\n    findsum(data, item) {\r\n        //  window.location.reload();\r\n        this.textsiga = \"\";\r\n        this.totalsiga = 0;\r\n        this.valuesiga = data;\r\n        // this.i=0   \r\n        //   console.log(this.valuesiga);  \r\n        console.log(this.totalsiga);\r\n        debugger;\r\n        // do {\r\n        if (this.i < item) \r\n        //for(let ix=0;ix<item;ix++)\r\n        {\r\n            for (let j = 0; j < this.valuesiga.length; j++) {\r\n                this.totalsiga += this.valuesiga[j].porcentaje;\r\n            }\r\n            this.sumatotal[this.i] = this.totalsiga;\r\n            this.i = this.i + 1;\r\n            debugger;\r\n            //  this.totalsiga=0;\r\n        }\r\n        //while (this.i > item);\r\n        // if ((this.totalsiga) == 100 ){\r\n        //   this.textsiga = \"Asignación Completada\";\r\n        //   this.inputColorStr = \"blue\";\r\n        //   console.log(this.textsiga);  \r\n        //  }else { this.textsiga =\"Por favor revisar el % Asignación\";\r\n        // this.inputColorStr = \"red\";\r\n        // console.log(this.textsiga);  \r\n        // }\r\n        // return this.textsiga;\r\n        // return this.sumatotal;\r\n    }\r\n    deletesiga(id) {\r\n        if (confirm(\"¿Estás seguro que desea eliminar\")) {\r\n            this.api.deleteSiga(id).subscribe(res => {\r\n                this.AsignacionCarga = this.AsignacionCarga.filter(item => item.idCarga !== id);\r\n            });\r\n        }\r\n    }\r\n}\r\nCargasigaComponent.ɵfac = function CargasigaComponent_Factory(t) { return new (t || CargasigaComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ApiService), i0.ɵɵdirectiveInject(i1.Router)); };\r\nCargasigaComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: CargasigaComponent, selectors: [[\"app-cargasiga\"]], viewQuery: function CargasigaComponent_Query(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵviewQuery(_c0, 5);\r\n    } if (rf & 2) {\r\n        let _t;\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.matPaginator = _t.first);\r\n    } }, decls: 32, vars: 1, consts: [[1, \"container\"], [1, \"row\"], [1, \"col-12\"], [\"table\", \"\", \"table-hover\", \"\", 1, \"table\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"routerLink\"]], template: function CargasigaComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\");\r\n        i0.ɵɵtext(4, \"Lista de Empleados\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"table\", 3)(6, \"thead\")(7, \"tr\")(8, \"th\", 4);\r\n        i0.ɵɵtext(9, \"ID\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(10, \"th\", 4);\r\n        i0.ɵɵtext(11, \"MATRICULA\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(12, \"th\", 4);\r\n        i0.ɵɵtext(13, \" NOMBREUSUARIO\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"th\", 4);\r\n        i0.ɵɵtext(15, \"APELLIDOPATERNO\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"th\", 4);\r\n        i0.ɵɵtext(17, \"APELLIDOMATERNO\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"th\", 4);\r\n        i0.ɵɵtext(19, \"NOMBRECAL\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(20, \"th\", 4);\r\n        i0.ɵɵtext(21, \"NOMBRECHAPTER\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"th\", 4);\r\n        i0.ɵɵtext(23, \"TIPOPREPER\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(24, \"th\", 4);\r\n        i0.ɵɵtext(25, \"EMPRESA\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(26, \"th\", 4);\r\n        i0.ɵɵtext(27, \"ESPECIALIDAD\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(28, \"th\", 4);\r\n        i0.ɵɵtext(29, \"%ASIGNADA\");\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵelementStart(30, \"tbody\");\r\n        i0.ɵɵtemplate(31, CargasigaComponent_tr_31_Template, 26, 12, \"tr\", 5);\r\n        i0.ɵɵelementEnd()()()()();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(31);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.AsignacionCarga);\r\n    } }, directives: [i4.NgForOf, i1.RouterLink], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXJnYXNpZ2EuY29tcG9uZW50LmNzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}